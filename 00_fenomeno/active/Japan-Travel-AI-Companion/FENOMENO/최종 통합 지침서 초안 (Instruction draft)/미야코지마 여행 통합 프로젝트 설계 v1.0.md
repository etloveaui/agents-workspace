결론: **단일 프로젝트 + 서브모드 라우팅**. 텍스트·이미지·심층분석은 **GPT-5**, 실시간 음성은 **ChatGPT Voice(= GPT-4o 시작, 4o mini 폴백)**. 표준 Voice Mode는 **9월 9일 퇴출**. 프로젝트에 **파일·지침·메모리**를 넣고 계속 확장. ([OpenAI Help Center][1]) ([OpenAI Help Center][2]) ([OpenAI][3])

---

# 미야코지마 여행 통합 프로젝트 설계 v1.0

## 0. 전제와 제약

* ChatGPT **Projects**: 파일 업로드, 프로젝트 지침, 프로젝트 메모리 지원. Plus는 프로젝트당 **파일 25개**. 프로젝트 안에서 **Voice, Web 검색, Canvas** 사용 가능. ([OpenAI Help Center][2])
* **Voice**: Plus 사용자는 기본 **GPT-4o**로 시작. 사용량 소진 시 **4o mini**로 자동 전환. **자막(cc)** 버튼 제공. Voice 모드에선 **이미지 생성·파일 업로드·코드 인터프리터 미지원**. ([OpenAI Help Center][1])
* 개발용 음성 API는 **Realtime API**의 **`gpt-realtime`** 모델이 최신. (참고: 제품 내부 음성 경험은 ChatGPT Voice로 통합됨) ([OpenAI][4])

---

## 1. 아키텍처 개요

* **하나의 Project**: “Miyakojima Trip Assistant”.
* **라우팅 규칙**

  * 입력이 **음성**이면 → **Voice 서브모드(GPT-4o)**.
  * **텍스트/이미지/문서** 또는 **심층 요청**이면 → **Info 서브모드(GPT-5)**.
  * **응급 키워드**(아파, 분실, 사고 등) 감지 시 → GPT-5로 상황 정리 후, 요약을 GPT-4o로 **1–2문장 안내**.
* **폴백**

  * Voice 사용 불가 → GPT-5 응답 + TTS 대체(지연 허용).
  * GPT-5 장애 → GPT-4o로 핵심 요약만.

---

## 2. UX 설계(핵심 플로우)

* **양방향 통역(“CC 통역”)**

  * 음성 출력: 일본어.
  * 화면 텍스트: 일본어 원문 + **한국어 독음(가나/로마자)** + 한국어 뜻. Voice 내부 **CC** 활성화로 자막 표시. ([OpenAI Help Center][1])
* **카메라 번역(메뉴·표지판)**

  * 사진 업로드 → GPT-5가 OCR·해석 → 알레르겐·성분·주의사항 표로 반환. Voice로 **핵심만 1문장 안내**.
* **3시간 이동 공백 추천**

  * 경로의 중간 지점 ±X km 버퍼 내 **POI 후보**를 점수화(거리/영업시간/리뷰/취향 태그).
  * 필요 데이터는 §4 스키마로 수집.
* **모드 전환 안내**

  * Voice에서 파일·이미지 요청 시: “지금은 Voice에서 파일 업로드 불가. 텍스트 화면으로 전환합니다.”를 고지 후 전환. ([OpenAI Help Center][1])

---

## 3. 지침 구조(운영 문서)

### 3.1 마스터 지침(프로젝트 Instructions)

* 역할: 통역, 가이드, 응급.
* 멀티모달 원칙: “이미지 결과는 표로, 음성은 요약으로.”
* 라우팅 규칙 고정: Voice=속도·간결, Info=근거·표·링크.
* 민감정보 처리: 개인 파일·대화는 **프로젝트 메모리** 우선 사용. ([OpenAI Help Center][2])

### 3.2 서브모드 프로필

* **Voice(4o)**: `reasoning=minimal`, `verbosity=low`, **응답 ≤ 2문장**, 교정 요청 시 즉시 재낭독. 시작은 4o, 소진 시 4o mini. ([OpenAI Help Center][1])
* **Info(5)**: `reasoning=medium~high`, `verbosity=medium`, 표/지도/리스트, 웹 검색 인용. ([OpenAI][5])
* **Emergency(5→4o)**: 체크리스트, 현지 표현 템플릿, 연락처 구조화 후 4o로 경고 낭독.

---

## 4. 지식 베이스 구조(파일·스키마)

프로젝트 파일 탭에 폴더처럼 구분(이름 접두사로 관리).

**/core/**

* `miyakojima_guide.md` 지역 개요·명소·매너
* `japanese_phrases.md` 상황별 일본어
* `emergency_info.md` 번호·기관·표현·절차

**/personal/**

* `personal_travel_info.md` 숙소·차량·항공·취향

**/poi/**  → CSV/JSON 병행

```csv
poi_id,name,lat,lon,tags,open_hours,cost,stay_min,rating,notes
P001,Shimoji Beach,24.82,125.14,"beach,snorkel","09:00-18:00",0,90,4.6,"조류 강함 주의"
```

**/route/**  → GeoJSON 또는 CSV

```json
{"type":"Feature","geometry":{"type":"LineString","coordinates":[[125.27,24.79],[125.16,24.80]]},"properties":{"day":"D2","from":"A","to":"B"}}
```

**/itinerary/**

```csv
day,slot,start,end,area,activity,poi_ids,notes
D2,drive,10:00,13:00,iraBu,이동,A→B,""
```

**/constraints/**

```json
{"diet":["shellfish"],"allergy":["peanut"],"budget_meal":"~2000JPY","avoid":"long_queue"}
```

---

## 5. “3시간 공백 추천” 로직

* **입력**: 해당 구간의 `LineString` + 출발시각.
* **필터**: 경로에서 **거리 d ≤ 8km**, 우회시간 ≤ 25분, `open_hours` 충족.
* **스코어** = w₁(거리) + w₂(체류시간 적합) + w₃(취향태그 일치) + w₄(리뷰·평점).
* **출력**: 최대 5곳 표 + 음성 1문장 요약.
* 준비물: POI CSV, 경로 GeoJSON. 필요하면 내가 **KML/GeoJSON** 템플릿 제공 가능.

---

## 6. 운영 절차(업데이트·품질)

* **업데이트 사이클**

  * 사용자가 자료 제공 → `/poi`, `/route`, `/itinerary`, `/personal` 반영.
  * 변경 시 **변경 로그** 남김(날짜/파일/요점).
* **검증 규칙**

  * Info 답변은 **웹 검색+인용** 활성화. Voice는 요약만. ([OpenAI Help Center][2])
* **지표**

  * 번역 정확도 샘플 20문, Voice 왕복지연, 사실 인용 일치율, 추천 클릭율.

---

## 7. 초기에 해야 할 세팅(Plus 기준)

1. 새 **Project** 생성 → 이름/아이콘. 2) **Project Instructions** 붙여넣기. 3) **파일 업로드**(최대 25개)와 폴더 접두사 정리. 4) **Project Memory** 켬. 5) Voice에서 **cc 버튼** 사용 습관화. ([OpenAI Help Center][2])

---

## 8. 첨부(클로드 산출물) 평가 요약

* **MASTER\_INSTRUCTIONS / IMPLEMENTATION\_PLAN**: 구조는 양호. 다만 **Voice 제약·폴백·cc 안내**가 누락. 본 설계로 보강.
* **japanese\_phrases / miyakojima\_guide / emergency\_info**: 현장 가용성 높음. 스키마화 필요(위 §4).

---

## 9. 다음 입력이 필요함(데이터 수집 가이드)

* **경로 데이터**: 일자별 A→B **GeoJSON/KML**.
* **POI 후보**: 위도·경도·영업시간 포함 CSV.
* **개인 제약**: 알레르기, 예산, 운전 피로 한계시간.
* 제공 방식: 위 §4 스키마 그대로 주면 바로 흡수.

---

## 10. 리서치 참고(필수 근거)

* **Voice FAQ**: 9/9 표준 음성 퇴출, Plus는 **GPT-4o 시작**, **cc 자막**, Voice 툴 제한. ([OpenAI Help Center][1])
* **Projects**: 파일·지침·메모리, 플랜별 업로드 제한. ([OpenAI Help Center][2])
* **GPT-5 공식**: 2025-08-07 공개, 지능·멀티모달·프롬프트 제어. ([OpenAI][3])
* **Realtime API**: `gpt-realtime` GA, 음성용 최신. ([OpenAI][4])

---

원하면 이 설계를 **실행용 마스터 지침 문서**와 **지식 스키마 템플릿 파일**로 즉시 정리해 준다.

[1]: https://help.openai.com/en/articles/8400625-voice-chat-faq "Voice Mode  FAQ | OpenAI Help Center"
[2]: https://help.openai.com/en/articles/10169521-using-projects-in-chatgpt "Projects in ChatGPT | OpenAI Help Center"
[3]: https://openai.com/index/introducing-gpt-5/?utm_source=chatgpt.com "Introducing GPT-5"
[4]: https://openai.com/index/introducing-gpt-realtime/ "Introducing gpt-realtime and Realtime API updates for production voice agents | OpenAI"
[5]: https://openai.com/gpt-5/?utm_source=chatgpt.com "GPT-5 is here"
